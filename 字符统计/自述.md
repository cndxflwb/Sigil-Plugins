# 字符统计

一款运行在Sigil上的插件（Plugin），可统计EPUB文件字数、使用标签，并支持统计CJK汉字。

# 完整的 CJK 扩展区定义（使用用户提供的完整列表）

```
CJK_EXTENSIONS = [
    {'name': '基本区', 'ranges': [(0x4E00, 0x9FFF)]},
    {'name': '兼容汉字', 'ranges': [(0xF900, 0xFAD9)]},
    {'name': '兼容扩展', 'ranges': [(0x2F800, 0x2FA1D)]},
    {'name': '私用区', 'ranges': [(0xE000, 0xF8FF)]},
    {'name': '补充私人使用区A', 'ranges': [(0xF0000, 0xFFFFF)]},
    {'name': '补充私人使用区B', 'ranges': [(0x100000, 0x10FFFF)]},
    {'name': '扩展A', 'ranges': [(0x3400, 0x4DB5)]},
    {'name': '扩展B', 'ranges': [(0x20000, 0x2A6DF)]},
    {'name': '扩展C', 'ranges': [(0x2A700, 0x2B73A)]},
    {'name': '扩展D', 'ranges': [(0x2B740, 0x2B81D)]},
    {'name': '扩展E', 'ranges': [(0x2B820, 0x2CEA1)]},
    {'name': '扩展F', 'ranges': [(0x2CEB0, 0x2EBE0)]},
    {'name': '扩展G', 'ranges': [(0x30000, 0x3134A)]},
    {'name': '扩展H', 'ranges': [(0x31350, 0x323AF)]},
    {'name': '扩展I', 'ranges': [(0x2EBF0, 0x2EE5D)]},
    {'name': '扩展J', 'ranges': [(0x323B0, 0x33479)]},
]
```

用户可自定义增删Unicode字符区块。

# 要统计的 HTML 标签列表

```
TAGS_TO_COUNT = ['b', 'i', 'u', "img", "table","ruby"]
```

# 运行结果示例

```
一、EPUB 字符统计报告
总字数（非空白字符）：8888
英文单词：136, 英文半角标点：121, 中文全角标点：766

1. 所有非空白字符列表
总字符数：8888, 去重字符数：1362
序号,Unicode,字符,出现次数
1,U+FF0C,，,368
2,U+3002,。,189
3,U+7684,的,181
4,U+4E00,一,112
5,U+6211,我,83
6,U+662F,是,81
7,U+4E2A,个,77
8,U+8FD9,这,74
9,U+0030,0,73
10,U+5B57,字,68
11,U+4E3A,为,63
……

2. CJK 字符分区统计 (总数：6840, 去重：1211)
分区：基本区
总字符数：6840, 去重字符数：1211
序号,Unicode,字符,出现次数
1,U+7684,的,181
2,U+4E00,一,112
3,U+6211,我,83
4,U+662F,是,81
5,U+4E2A,个,77
6,U+8FD9,这,74
7,U+5B57,字,68
……

3. 数字、字母、其他字符统计
3.1 数字 (0-9)
总字符数：275, 去重字符数：18
序号,Unicode,字符,出现次数
1,U+0030,0,73
2,U+0031,1,56
3,U+0034,4,27
4,U+0032,2,26
5,U+0037,7,18
6,U+0039,9,16
……

3.2 字母 (a-z, A-Z)
总字符数：699, 去重字符数：65
序号,Unicode,字符,出现次数
1,U+0065,e,45
2,U+0069,i,39
3,U+006F,o,34
4,U+0061,a,33
5,U+006E,n,32
6,U+0072,r,29
7,U+0074,t,29
……

4. 其他字符（非空白、非CJK、非数字、非字母）
总字符数：1074, 去重字符数：68
序号,Unicode,字符,出现次数
1,U+FF0C,，,368
2,U+3002,。,189
3,U+FF1A,：,59
4,U+002E,.,48
5,U+201C,“,46
……

二、HTML 标签统计（各文件明细）
  cover01.xhtml:
    img: 1
  cover02.xhtml:
    img: 1
  speci06.xhtml:
    b: 1
  speci07.xhtml:
    b: 1
```
